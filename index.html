<!DOCTYPE html>
<html>
<head>
    <title>URL Pinger</title>
</head>
<body>
    <h1>Next ping in:</h1>
    <p id="countdown"></p>
    <script>
        // Get the countdown element
        const countdown = document.getElementById("countdown");

        // Get the next ping time from the server
        const nextPing = new Date("<%= nextPing %>");

        // Update the countdown every second
        setInterval(() => {
            // Get the current time
            const now = new Date();

            let timeUntilPing;
            if (now < nextPing) {
                timeUntilPing = nextPing - now;
            } else {
                timeUntilPing = now - nextPing;
            }
            // Update the countdown element
            countdown.innerHTML = (timeUntilPing / 1000).toFixed(3) + " seconds";
        }, 1000);
    </script>
</body>
</html>
